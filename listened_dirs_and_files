
module RoPl
	class << self

		attr_writer :listened_dirs_and_files

		def listened_dirs_and_files
			d = File.expand_path("../lib", __FILE__)
			require 'rubygems'
			gems = Gem::Specification.select do |gem|
				gem.name.match(%r{^ro\_})
			end

			gem_roots = gems.map(&:full_gem_path)
			[d, gem_roots].flatten.uniq
		end
	end
end

module Spork
	class << self
		def listened_dirs_and_files
			[RoPl.listened_dirs_and_files].uniq.flatten
		end
	end
end
